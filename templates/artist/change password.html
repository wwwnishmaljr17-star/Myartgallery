{% extends 'artist/index2.html' %}
{% block body %}

<div class="row justify-content-center">
  <div class="col-lg-8">
    <div class="card shadow-lg border-0 rounded-lg">
      <div class="card-header bg-primary text-white py-3">
        <h4 class="m-0 font-weight-bold">
          <i class="fas fa-key mr-2"></i>Change Password
        </h4>
      </div>

      <div class="card-body p-4 p-md-5">
        <form id="form1" method="post" action="/artist_change_passwordpost">
          {% csrf_token %}

          <!-- CURRENT PASSWORD -->
          <div class="form-group mb-4">
            <label class="font-weight-bold text-dark">
              <i class="fas fa-lock mr-1 text-primary"></i> Current Password
            </label>
            <input type="password" name="textfield" class="form-control form-control-lg border-primary-soft shadow-sm"
              required placeholder="Enter current password">
          </div>

          <!-- NEW PASSWORD -->
          <div class="form-group mb-4">
            <label class="font-weight-bold text-dark">
              <i class="fas fa-shield-alt mr-1 text-primary"></i> New Password
            </label>
            <input type="password" name="textfield2" class="form-control form-control-lg border-primary-soft shadow-sm"
              required pattern="(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{8,}" placeholder="Enter new password">
            <small class="text-muted">
              Must contain 8+ characters, including uppercase, lowercase & number.
            </small>
          </div>

          <!-- CONFIRM PASSWORD -->
          <div class="form-group mb-4">
            <label class="font-weight-bold text-dark">
              <i class="fas fa-check-double mr-1 text-primary"></i> Confirm Password
            </label>
            <input type="password" name="textfield3" class="form-control form-control-lg border-primary-soft shadow-sm"
              required placeholder="Confirm new password">
          </div>

          <!-- SUBMIT -->
          <div class="text-center mt-5">
            <button type="submit" class="btn btn-lg btn-primary btn-block py-3 font-weight-bold shadow">
              <i class="fas fa-sync-alt mr-2"></i> Update Password
            </button>
          </div>

        </form>
      </div>
    </div>
  </div>
</div>

<!-- PASSWORD MATCH CHECK -->
<script>
  document.getElementById("form1").addEventListener("submit", function (e) {
    let newPass = document.getElementsByName("textfield2")[0].value;
    let confirmPass = document.getElementsByName("textfield3")[0].value;

    if (newPass !== confirmPass) {
      e.preventDefault();
      alert("New Password and Confirm Password do not match!");
    }
  });
</script>

{% endblock %}