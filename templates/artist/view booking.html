{% extends 'artist/index2.html' %}
{% block body %}
<div class="card shadow-sm border-0 rounded-lg">
    <div class="card-header bg-primary text-white py-3">
        <h4 class="m-0 font-weight-bold"><i class="fas fa-calendar-check mr-2"></i>Design Bookings</h4>
    </div>
    <div class="card-body p-0">
        <div class="table-responsive">
            <table class="table table-hover mb-0">
                <thead class="thead-light">
                    <tr>
                        <th class="px-4">S.NO</th>
                        <th>USER</th>
                        <th>SCHEDULE DATE</th>
                        <th>BOOKING DATE</th>
                        <th>STATUS</th>
                        <th class="text-center">ACTIONS</th>
                    </tr>
                </thead>
                <tbody>
                    {% for i in data %}
                    <tr>
                        <td class="px-4 font-weight-bold text-muted">{{ forloop.counter }}</td>
                        <td>
                            <div class="font-weight-bold text-dark">{{ i.USERID.name }}</div>
                        </td>
                        <td>
                            <span class="text-muted small"><i class="far fa-calendar-alt mr-1"></i>{{ i.SCHEDULE.date
                                }}</span>
                        </td>
                        <td>
                            <span class="text-muted small"><i class="far fa-clock mr-1"></i>{{ i.date }}</span>
                        </td>
                        <td>
                            {% if i.status == "pending" %}
                            <span class="badge badge-warning px-3 py-2 rounded-pill">Pending</span>
                            {% elif i.status == "accepted" %}
                            <span class="badge badge-success px-3 py-2 rounded-pill">Accepted</span>
                            {% else %}
                            <span class="badge badge-secondary px-3 py-2 rounded-pill">{{ i.status }}</span>
                            {% endif %}
                        </td>
                        <td class="text-center">
                            <div class="btn-group shadow-sm">
                                {% if i.status == "pending" %}
                                <a href="/accept_design/{{ i.id }}" class="btn btn-sm btn-success px-3">
                                    <i class="fas fa-check mr-1"></i>Accept
                                </a>
                                <a href="/reject_design/{{ i.id }}" class="btn btn-sm btn-danger px-3">
                                    <i class="fas fa-times mr-1"></i>Reject
                                </a>
                                {% elif i.status == "accepted" %}
                                <a href="/reject_design/{{ i.id }}" class="btn btn-sm btn-outline-danger px-3">
                                    <i class="fas fa-times mr-1"></i>Reject
                                </a>
                                {% else %}
                                <span class="text-muted small">No actions available</span>
                                {% endif %}
                            </div>
                        </td>
                    </tr>
                    {% empty %}
                    <tr>
                        <td colspan="6" class="text-center py-5">
                            <div class="display-4 text-muted mb-3"><i class="fas fa-calendar-times"></i></div>
                            <h5 class="text-muted">No design bookings found.</h5>
                        </td>
                    </tr>
                    {% endfor %}
                </tbody>
            </table>
        </div>
    </div>
</div>
{% endblock %}