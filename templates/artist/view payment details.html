{% extends 'artist/index2.html' %}
{% block body %}
<div class="card shadow-2xl border-0 rounded-2xl overflow-hidden">
    <div class="card-header py-4 px-5 border-0 d-flex justify-content-between align-items-center"
        style="background: linear-gradient(135deg, #1e293b 0%, #334155 100%);">
        <h4 class="m-0 font-weight-bold text-white"><i class="fas fa-file-invoice-dollar mr-2 text-warning"></i>Payment
            History</h4>
        <div class="text-white-50 small font-weight-bold text-uppercase" style="letter-spacing: 1px;">Financial Records
        </div>
    </div>
    <div class="card-body p-0">
        <div class="table-responsive">
            <table class="table table-hover mb-0">
                <thead class="bg-gray-50 border-bottom">
                    <tr>
                        <th class="px-5 py-3 text-uppercase small font-weight-bold text-muted">Receipt #</th>
                        <th class="py-3 text-uppercase small font-weight-bold text-muted">Item/Service</th>
                        <th class="py-3 text-uppercase small font-weight-bold text-muted">Transaction Date</th>
                        <th class="py-3 text-uppercase small font-weight-bold text-muted">Amount</th>
                        <th class="px-5 py-3 text-center text-uppercase small font-weight-bold text-muted">Payment
                            Status</th>
                    </tr>
                </thead>
                <tbody class="bg-white">
                    {% for i in data %}
                    <tr class="transition-all hover-bg-light">
                        <td class="px-5 py-4">
                            <span class="font-weight-bold text-dark">#{{ forloop.counter|add:1000 }}</span>
                        </td>
                        <td class="py-4">
                            <span class="text-dark font-weight-bold">{{ i.item }}</span>
                        </td>
                        <td class="py-4 text-muted">
                            <i class="far fa-calendar-alt mr-2 text-primary"></i>{{ i.date }}
                        </td>
                        <td class="py-4">
                            <span class="h5 font-weight-bold text-dark m-0">â‚¹{{ i.amount }}</span>
                        </td>
                        <td class="px-5 py-4 text-center">
                            {% if i.status|lower == 'pending' %}
                            <div
                                class="d-inline-flex align-items-center px-3 py-2 rounded-pill bg-light-warning text-warning font-weight-bold small shadow-sm">
                                <span class="pulse-dot mr-2"></span>Pending
                            </div>
                            {% elif i.status|lower == 'completed' or i.status|lower == 'paid' or i.status|lower ==
                            'success' %}
                            <div
                                class="d-inline-flex align-items-center px-3 py-2 rounded-pill bg-light-success text-success font-weight-bold small shadow-sm">
                                <i class="fas fa-check-circle mr-2"></i>Paid
                            </div>
                            {% else %}
                            <div
                                class="d-inline-flex align-items-center px-3 py-2 rounded-pill bg-light-secondary text-secondary font-weight-bold small shadow-sm">
                                <i class="fas fa-info-circle mr-2"></i>{{ i.status }}
                            </div>
                            {% endif %}
                        </td>
                    </tr>
                    {% empty %}
                    <tr>
                        <td colspan="4" class="text-center py-5">
                            <div class="empty-payment-state py-5 px-4 mx-3 rounded-2xl border-dashed-2">
                                <div class="icon-pulse mb-4 mx-auto bg-light-primary text-primary">
                                    <i class="fas fa-receipt fa-3x"></i>
                                </div>
                                <h4 class="font-weight-bold text-dark mb-2">No Transactions Found</h4>
                                <p class="text-muted mb-0 mx-auto" style="max-width: 400px;">When you start making sales
                                    and receiving bookings, your detailed financial history will be archived here
                                    securely.</p>
                            </div>
                        </td>
                    </tr>
                    {% endfor %}
                </tbody>
            </table>
        </div>
    </div>
    <div class="card-footer bg-white py-4 px-5 border-0">
        <div class="d-flex align-items-center text-muted small">
            <i class="fas fa-shield-alt mr-2 text-success"></i>
            <span>Securely processed via ArtGallery Payment Gateway</span>
        </div>
    </div>
</div>

<style>
    .rounded-2xl {
        border-radius: 1.5rem !important;
    }

    .shadow-2xl {
        box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.15);
    }

    .bg-gray-50 {
        background-color: #f9fafb;
    }

    .transition-all {
        transition: all 0.3s ease;
    }

    .hover-bg-light:hover {
        background-color: #f8faff;
    }

    .bg-light-primary {
        background: rgba(78, 115, 223, 0.1);
    }

    .bg-light-warning {
        background: #fffcf0;
        color: #b45309;
    }

    .bg-light-success {
        background: #f0fdf4;
        color: #15803d;
    }

    .bg-light-secondary {
        background: #f9fafb;
        color: #4b5563;
    }

    .border-dashed-2 {
        border: 2px dashed #e2e8f0;
    }

    .icon-pulse {
        width: 100px;
        height: 100px;
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
    }

    .pulse-dot {
        width: 8px;
        height: 8px;
        border-radius: 50%;
        background: #f59e0b;
        animation: dot-pulse 1.5s infinite;
    }

    @keyframes dot-pulse {
        0% {
            transform: scale(0.95);
            box-shadow: 0 0 0 0 rgba(245, 158, 11, 0.7);
        }

        70% {
            transform: scale(1);
            box-shadow: 0 0 0 10px rgba(245, 158, 11, 0);
        }

        100% {
            transform: scale(0.95);
            box-shadow: 0 0 0 0 rgba(245, 158, 11, 0);
        }
    }
</style>
{% endblock %}